类似0 级数据⽂件定义，1 级数据⽂件名称格式如下： 
CSST_HSTDM__type_yyyymmddHHMMSS_yyyymmddHHMMSS__OB
SID_MM-NNNN-L1_VER.fits，其中： type 表⽰数据类型，包括了科学
数据SCI，处理过程中采⽤的辅助信息AUX，质量检查与控制数据QC；
yyyymmddHHMMSS 是⼋位时间戳信息，⽂件名中总共有两项⼋位时间
戳信息，组合起来代表⼀个观测从开始到结束的时间段。 
举例如下： 
 
 
20 
CSST_HSTDM_SCI_20240817060512_20240817060513_50100000001_0
1-0001_L1_V01.fits，表⽰太赫兹模块SCI，数据对于的观测为UTC 时间
2024 年08 ⽉17 ⽇06:05:12 ⾄2024 年8 ⽉17 ⽇06:05:16 的科学数据。 
这三类数据都是csst-hstdm-l1 ⼀级数据处理过程中产⽣的数据，其中
SCI 类型数据是标准的1 级数据处理流⽔线csst-hstdm  l1 的最终数据产品，
AUX 是csst-hstdm  l1 处理过程中涉及的辅助数据参数（BLK，OFF 点选
择，指向校准，效率校准）等相关信息记录数据，QC 是对太赫兹模块0
级数据进⾏QC0 的具体检测结果，太赫兹模块1 级数据进⾏QC1 的具体
检测结果，这三类数据都需要存档，存储于
CSST_L1/HSTDM/PROJECTID/<OBSID ⼦⽬录下>。 
⾼灵敏度太赫兹在⼀级数据处理过程中除了释放的数据⽂件以外，还
包含了⼀系列处理过程中产⽣的中间⽂件及临时⽂件。对于数据处理的
释放⽂件，存储的⽂件路径如下： 
CSST_L1/HSTDM/OBSID/SCI/<⼦⽬录（SCI、QC 和AUX）>/<⽂
件名> 
 
表 9: 1 级数据释放⽂件格式和内容定义 
⽂件名字符串 
⽂件格式 
⽂件类型 
BITPIX
（每⼀像元
数的位数） 
⽂件内容 
CSST_HSTDM_
CAL_context_*_
*.fits 
FITS 
数据（存
档） 
32 
1 级数据⽂件⽣成过程中涉及的所
有数据⽂件索引表，所产⽣数据的
时间段内太赫兹模块具体的⼯作模
式时序列表（⼯作模式包括正常观
测、OFF 点校准，冷热负载校
准），处理流程历史信息 
 
 
21 
 
5.2.8 定标参考数据 
定标参考⽂件的类型较多，不同的后端模块和不同的pipeline 处理步骤会使⽤不同
的定标参考⽂件。每个参考⽂件的primary header 包含有记录该参考⽂件相关信息的
关键字，包括参考⽂件的类型，制作时间、⽅法、⼈员，使⽤条件关键字（如
USEAFTER）等详情将在《CSST 科学数据处理系统定标参考数据结构设计说明》⽂
档中进⼀步明确定义，可参阅相关⽂档KSC-00-JK-0004-01.01。 
 
5.3 
接⼜⽰意图 
5.3.1 主巡天模块多⾊成像（MSC_MBI） 
多⾊成像1 级数据中的图像⽂件对象接⼜与0 级数据⼀致（参见KSC-
00-JK-0001-03.01 ⽂件中的图6）。每幅图像⽂件对应的权重⽂件对象和
特征位⽂件对象与图像⽂件对象的结构和接⼜⼀致并合并⾄图像⽂件中。 
整个⽂件对象包含9 个HDU，其中Primary HDU（HDU0）只包含望
远镜的观测信息，且继承⾃0 级数据，不进⾏改动。同⼀次观测所有波段
测光和⽆缝光谱图像global header 内容基本⼀致。HDU1 是科学图像扩展，
对象中的header 包含继承⾃0 级数据HDU1 的探测器相关信息，以及数
据处理过程中的宇宙线和卫星探测、WCS 畸变和流量定标零点等相关数
据。对象中的数据部分为⼆维的datacube 矩阵，来源于0 级数据。以探测
器选型使⽤CCD 为例，0 级数据的16 通道数据矩阵（参见KSC-00-JK-
0001-03.01 ⽂件中的图7），并经过oversan、bias 和平场改正、宇宙线和
卫星轨迹探测、天光背景扣除等操作后，矩阵数值发⽣改变（暂定流量
单位变为电⼦/秒），并按照空间排布说明（参见：主焦⾯图像格式-每读
出通道1 个数据包.docx），完成拼接，如图1 所⽰。HDU2 是权重图像扩
展，对象中的数据矩阵⼤⼩与图像对象⼀致，每个像元的值是在初始珀
 
 
22 
松误差的基础上，叠加每个处理步骤的误差，最后形成的误差倒⽅差矩
阵。HDU3 是特征位（flag）图像，对象中的数据矩阵⼤⼩与图像对象⼀
致，每个像元⽤⽐特位整数进⾏类型标定，包括：合格像元，坏像元，
宇宙线，卫星拖尾，饱和亮星等，具体数值与对应的特征见《CSST 科学
数据处理系统定标参考数据结构设计说明》（KSC-00-JK-0004-01.01）中
6.7 节关于DQ Flags 的定义。HDU1、2 和3 的数据矩阵例⼦见图2。HDU4
是畸变残差⼆进制表格，其中包括了扣除畸变后在UV 平⾯的残差矩阵。
HDU5 是WCS 定标参考星⼆进制表格，其中包括了WCS 定标所使⽤到的
参考星的位置（x，y，RA，Dec）和星等信息。HDU6 是流量定标参考星
⼆进制表格，其中包括了流量定标所使⽤到的外部参考星表的位置和星
等信息。HDU7 是天光背景矩阵，对象中的数据矩阵是对HDU1 数据进⾏
天光背景扣除后产⽣的⽹格矩阵。利⽤此矩阵，根据对象中的header部分
的信息，可以还原出与科学图像⼤⼩⼀致的天光背景矩阵。HDU8 是该图
像的PSF 模型，可以插值获得该图像中不同位置的PSF 矩阵。HDU9 是采
⽤与HDU1 中不同WCS 定标⽅法计算得到WCS 信息。详细信息详见表
10 所⽰。 
表 10: 主巡天多⾊成像1 级数据MEF 说明 
HDU 
name 
type 
shape 
dtype 
description 
0 
PRIMARY 
PrimaryHDU 
0 
 
继承自0 级
数
据
HDU0 ，包
括望远镜和
卫星的状态
等参数 
1 
IMAGE 
ImageHDU 
9216*9232 
float32 
完成仪器效
应改正和定
标后的科学
图像，像素
流量单位归
 
 
23 
一化到电子
/秒 
2 
IVAR 
ImageHDU 
9216*9232 
float32 
倒方差权重
图像，合并
了原始图像
误差和数据
处理过程中
引入误差，
单位是秒
^2/电子^2 
3 
FLAG 
ImageHDU 
9216*9232 
uint32 
Flag 图像，
对应比特位
数值来源于
在轨定标
DQ flags 定
义 
4 
UV_RESIDUAL 
BinTableHDU 
4 列 
float32 
UV 平面畸
变拟合残差
表 
5 
CAL_WCS 
BinTableHDU 
8 列 
float32 
用于WCS
定标的恒星
位置信息表 
6 
CAL_FLUX 
BinTableHDU 
67 列 
float32 
用于流量定
标的恒星位
置和流量信
息表 
7 
SKY 
ImageHDU 
24*24 
float32 
天光背景拟
合网格图像 
8 
PSF_DATA 
BinTableHDU 
1 列 
float32 
PSF 模型 
9 
WCS 
ImageHDU 
0 
float32 
不同算法给
出的WCS
结果 
 
 
24 
 
图 1：CSST 主巡天相机1 级数据image data 结构⽰意图。其中数字表⽰不同的读出通
道，通道间的分隔⽤⿊⾊边框表⽰。橙⾊为data 区域。0 级数据中的overs(pre)scan 区
域数据在流⽔线处理过程中已经从data 区域扣除，不再出现在1 级数据的image data
中。 
 
 
图2：完成数据处理后的1 级图像数据样例。从左到右分别是：科学数据图像
（HDU1），权重图像（HDU2），特征位图像（HDU3）。数据来源于CSST 仿真。 
 
 
25 
 
5.3.2 主巡天模块⽆缝光谱（MSC_SLS） 
⽆缝光谱1 级科学数据产品⽂件格式为MEF 格式，包含4 个扩展
（HDU），⽂件格式如表11 所⽰。  
表11：主巡天无缝光谱MEF 格式说明 
HDU 
name 
type 
shape 
dtype 
descritption 
0 
PRIMARY 
PrimaryHDU 
0 
 
继承自0 级
数据
HDU0，包括
望远镜和卫
星的状态等
参数 
1 
IMAGE 
ImageHDU 
9216*9232 
float32 
完成仪器效
应改正和定
标后的科学
图像，像素
流量单位归
一化到电子/
秒 
2 
ERROR 
ImageHDU 
9216*9232 
float32 
误差error 图
像，合并了
原始图像误
差和数据处
理过程中引
入误差，单
位是电子/秒 
3 
FLAG 
ImageHDU 
9216*9232 
uint32 
Flag 图像，
对应比特位
数值来源于
在轨定标DQ 
flags 定义 
4 
CAL_WCS 
BinTableHDU 
8 列 
float32 
用于WCS 定
标的恒星位
置信息表 
 
 
26 
 
其中，primary HDU header 包含望远镜的观测信息，且继承⾃0 级数
据，除数据维度⼤⼩外不再进⾏任何改动。第⼀个HDU 扩展为SCI 图像，
SCI 图像扩展的header 包含CCD 相关信息、WCS 相关数据等内容，⼤部
分关键字继承⾃0 级数据header 中的信息。SCI 扩展 data 为⼆维矩阵数
据，源于0 级数据。以探测器选型使⽤CCD 为例，0 级数据的16 通道数
据矩阵（参见《CSST 主巡天0 级图像数据结构结构设计说明》KSC-SJ1-